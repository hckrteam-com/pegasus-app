<!DOCTYPE html>
<html style="background-color: rgb(24 24 27);">

<head>
  <meta charset="UTF-8">
  <title>Pegasus RPC</title>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
  <script src="index.js" type="module" defer></script>
</head>

<body>

  <div style="margin:10vh">


    <div class="container">
      <h1 class="title">Pegasus Voice System</h1>

        <div class="field">
        
          <label class="label">RobloxId</label>
          <input class="input" id="robloxId" placeholder="RobloxId">327155328</input>

        </div>
        <button class="button is-primary" id="start" style="background-color: rgb(107 33 168); margin-bottom: 3vh;">Połącz się!</button>
  
        <div id="audios"></div>

        <div class="field">
        
          <label class="label">PlaceId</label>
          <input class="input" id="place_id" placeholder="PlaceId">15710017589</input>

        </div>
        <button id="submit" class="button is-primary" style="background-color: rgb(107 33 168); margin-bottom: 3vh;">Set Status</button>
  

    </div>
  
  </div>




  <script>
    //document.getElementById('submit').addEventListener('submit', startrpc)



    document.getElementById("submit").addEventListener("click", function() {
      console.log("chujjj")
      startrpc()
    });

    async function startrpc() {
      //event.preventDefault();
      const place_id = document.getElementById('place_id').value;

      const result = await fetch('http://localhost:3000/api/rpc', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          place_id
        })
      }).then((res) => res.json())
      console.log(result)
      if (result.success == true) {

      } else {
        alert(result.error)
      }
    }

  
  </script>
</body>

<style>
  
  .button {
    background-color: #fff;
    border-color: #dbdbdb;
    border-width: 1px;
    color: #363636;
    cursor: pointer;
    justify-content: center;
    padding-bottom: calc(.5em - 1px);
    padding-left: 1em;
    padding-right: 1em;
    padding-top: calc(.5em - 1px);
    text-align: center;
    white-space: nowrap;
  }

  .input, .select select, .textarea {
    background-color: #fff;
    border-color: #dbdbdb;
    border-radius: 4px;
    color: #363636;
  }

  .title {
    color: #fffdfd;
    font-size: 2rem;
  }
  
  .label {
    color: #dcdcdc;
  }
  
  .input::placeholder, .select select::placeholder, .textarea::placeholder {
    color: rgba(255, 255, 255, 0.62);
  }

  .input, .select select, .textarea {
    background-color: #00000050;
    border-color: #dbdbdb;
    border-radius: 4px;
    color: #fff;
  }

  ::-webkit-scrollbar {
    width: 0px;
  }
</style>

</html>